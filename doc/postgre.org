* create datebase
#+BEGIN_SRC 
$ createdb mydb
$ dropdb mydb
#+END_SRC 
* run
#+BEGIN_SRC
$ /usr/local/pgsql/bin/postgres -D /usr/local/pgsql/data &
$ psql mydb
#+END_SRC

* create table

#+BEGIN_SRC sql
create table http_session (
       http_serial        serial8,

       src_hwaddr         macaddr,
       dst_hwaddr         macaddr,
       src_ipaddr         inet,
       dst_ipaddr         inet,
       nat_ipaddr         inet,
       src_port           int,
       dst_port           int,
       nat_port           int,

       http_host          varchar(512),
       http_url           varchar(512),
       http_referer       varchar(512),
       http_agent         varchar(512),

       time_joined        timestamptz,
       time_leaved        timestamptz
);
create table http_session (
       http_serial      SERIAL,

       src_hwaddr  	macaddr,
       dst_hwaddr  	macaddr,
       src_ipaddr  	inet,
       dst_ipaddr  	inet,
       nat_ipaddr  	inet,
       src_port  	integer,
       dst_port  	integer,
       nat_port  	integer,

       http_host  	varchar(1024),
       http_url  	varchar(1024),
       http_referer  	varchar(1024),
       http_agent  	varchar(1024),


       time_joined  	timestamptz,
       time_leaved  	timestamptz
);
#+END_SRC

#+BEGIN_SRC  
DROP TABLE tablename
#+END_SRC

* build program
#+BEGIN_SRC 
cc -c -I/usr/local/pgsql/include testlibpq.c
cc -o haha testlibpq.o -L/usr/local/pgsql/lib -Wl,-dn -lpq -Wl,-dy
#+END_SRC

** how to complie in ettercap?


